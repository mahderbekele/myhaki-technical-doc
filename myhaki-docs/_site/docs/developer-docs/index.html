<h1>Developer Docs</h1>
<p>Comprehensive documentation for developers building, testing, and deploying the MyHaki platform.<br>
Learn about architecture, workflows, integrations, and best practices for reliable legal tech.</p>
<hr>
<h2><span style="font-weight: 600; color: #A87352;">System Architecture</span></h2>
<p><a href="images/system.png"><img src="images/system.png" alt="System Architecture"></a></p>
<ul>
<li><strong>Frontend:</strong> Next.js + Tailwind CSS (LSK dashboard, responsive informational website)</li>
<li><strong>Mobile:</strong> Android app (MVVM, Jetpack Compose, Koin DI, Retrofit)</li>
<li><strong>Backend:</strong> Django REST Framework (Python), internal REST APIs</li>
<li><strong>Database:</strong> PostgreSQL with pgvector for AI embeddings</li>
<li><strong>Integrations:</strong>
<ul>
<li>TranslatePlus (form translation to English for AI)</li>
<li>LocationIQ (police station geocoding)</li>
<li>Agentic AI (Python + Google ADK/Gemini for case classification/prioritization)</li>
<li>Celery + Redis (automated case assignment)</li>
</ul>
</li>
<li><strong>Testing:</strong> Unit &amp; integration tests (Postman, pytest, JUnit, Compose Test)</li>
<li><strong>CI/CD:</strong> GitHub Actions automates tests and deployment (Heroku for API, Vercel for dashboard/web, Google Cloud for FastAPI agent)</li>
<li><strong>Branding:</strong> All UI follows MyHaki brand guidelines (see <a href="images/brand-guideline.png">Brand Guideline</a>)</li>
</ul>
<hr>
<h2><span style="font-weight: 600; color: #A87352;">.env Usage &amp; Secrets Management</span></h2>
<ul>
<li>Sensitive values (API keys, secrets) are stored in <code>.env</code> files and never committed to source control.</li>
<li>Use environment variables for config overrides (dev, staging, production).</li>
<li>Django loads <code>.env</code> via <a href="https://github.com/theskumar/python-dotenv"><code>python-dotenv</code></a>.</li>
<li>Next.js uses <code>process.env.VAR_NAME</code>.</li>
<li>FastAPI agent uses Google Cloud Secret Manager or <code>.env</code>.</li>
</ul>
<hr>
<h2><span style="font-weight: 600; color: #A87352;">Automated Testing</span></h2>
<ul>
<li><strong>Backend:</strong> Unit and integration tests for models, views, APIs using <code>pytest</code>, <code>unittest</code>, and Postman for endpoint validation.</li>
<li><strong>Frontend:</strong> Component and API tests using Jest and React Testing Library.</li>
<li><strong>Android:</strong> Unit tests (JUnit, MockK), UI tests (Compose Test).</li>
<li><strong>Test coverage:</strong> All codebases report coverage in CI.</li>
<li><strong>Commands:</strong><pre><code class="language-bash"># Backend
python manage.py test
pytest --cov=backend

# Frontend
npm test
npm run coverage

# Android
./gradlew test
./gradlew connectedAndroidTest
</code></pre>
</li>
</ul>
<hr>
<h2><span style="font-weight: 600; color: #A87352;">Branching &amp; PR Workflow</span></h2>
<ul>
<li>Feature branches: <code>feature/xxx</code></li>
<li>Bugfix branches: <code>bugfix/xxx</code></li>
<li>PR reviews required for all merges to <code>main</code></li>
<li>Descriptive PR titles, linked issues (<code>Fixes #issue_num</code>)</li>
<li>Checklist: All tests pass, lint passes</li>
</ul>
<hr>
<h2><span style="font-weight: 600; color: #A87352;">Directory Structure</span></h2>
<ul>
<li><code>frontend/</code> — Next.js dashboard and informational website</li>
<li><code>backend/</code> — Django REST API</li>
<li><code>android/</code> — Android app (Compose, MVVM, Koin)</li>
<li><code>agent/</code> — FastAPI microservice (Agentic AI, Google ADK/Gemini)</li>
<li><code>docs/</code> — Documentation, brand guidelines</li>
<li><code>tests/</code> — All tests and testing utilities</li>
</ul>
<hr>
